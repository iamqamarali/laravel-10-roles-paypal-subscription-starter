"use strict";function _typeof(t){"@babel/helpers - typeof";return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(t){window.wfob_storage={variation_data:{}},wfob_frontend.hooks={hooks:{action:{},filter:{}},addAction:function(t,o,e,a){this.addHook("action",t,o,e,a)},addFilter:function(t,o,e,a){this.addHook("filter",t,o,e,a)},doAction:function(t){this.doHook("action",t,arguments)},applyFilters:function(t){return this.doHook("filter",t,arguments)},removeAction:function(t,o){this.removeHook("action",t,o)},removeFilter:function(t,o,e){this.removeHook("filter",t,o,e)},addHook:function(t,o,e,a,n){void 0==this.hooks[t][o]&&(this.hooks[t][o]=[]);var i=this.hooks[t][o];void 0==n&&(n=o+"_"+i.length),void 0==a&&(a=10),this.hooks[t][o].push({tag:n,callable:e,priority:a})},doHook:function(t,o,e){if(e=Array.prototype.slice.call(e,1),void 0!=this.hooks[t][o]){var a,n=this.hooks[t][o];n.sort(function(t,o){return t.priority-o.priority});for(var i=0;i<n.length;i++)"function"!=typeof(a=n[i].callable)&&(a=window[a]),"action"==t?a.apply(null,e):e[0]=a.apply(null,e)}if("filter"==t)return e[0]},removeHook:function(t,o,e,a){if(void 0!=this.hooks[t][o])for(var n=this.hooks[t][o],i=n.length-1;i>=0;i--)void 0!=a&&a!=n[i].tag||void 0!=e&&e!=n[i].priority||n.splice(i,1)}};var o,e="1"==wfob_frontend.cart_is_virtual,a=0===parseFloat(wfob_frontend.cart_total),n=window.innerWidth,i=t("form.checkout"),r={message:null,overlayCSS:{background:"#fff",opacity:.6}};function _(){if(t(".wfob_qv-main table.variations").length>0){var o=t(".wfob_qv-main .wfob_qv-images").innerHeight();t(".wfob_qv-main").animate({scrollTop:o})}t("form.variations_form.cart .variations").removeClass("wfacp_animate_shake"),setTimeout(function(){t("form.variations_form.cart .variations").addClass("wfacp_animate_shake")},500)}function c(o){t(document.body).trigger("wfob_bump_trigger",o)}window.set_data=function(o,e){"object"==_typeof(o)&&(o=JSON.stringify(o)),t("#wfob_input_hidden_data").val(o),setTimeout(function(){t(document.body).addClass("wfob_bump_trigger"),t(document.body).trigger("update_checkout")},100,e)},window.wfob_send_ajax=function(o,e){var a=wfob_frontend.admin_ajax;o.hasOwnProperty("url")&&(a=o.url),o.action="wfob_"+o.action,wfob_frontend.hasOwnProperty("wc_endpoints")&&wfob_frontend.wc_endpoints.hasOwnProperty(o.action)&&(a=wfob_frontend.wc_endpoints[o.action]),o.wfob_nonce=wfob_frontend.wfob_nonce,t.ajax({url:a,type:o.type,data:o,success:function(t){"function"==typeof e&&e(t),"object"==_typeof(t)&&t.hasOwnProperty("nonce")&&(wfob_frontend.wfob_nonce=t.nonce)}})},t(document).on("click",".wfob_read_more_link",function(o){o.preventDefault();var e=t(this).parents(".wfob_l3_wrap"),a=e.find(".wfob_l3_s_desc"),n=e.find(".wfob_l3_s_data .wfob_l3_c_sub_desc_choose_option");a.slideToggle(),n.length>0&&(n.is(":visible")?n.slideUp():n.slideDown())}),t(document).on("click",".wfob_l3_f_btn",function(o){o.preventDefault();var e=t(this).parents(".wfob_bump_r_outer_wrap");if(t(this).hasClass("wfob_choose_variation")){var a=e.find(".wfob_qv-button");if(a.length>0)return void a.trigger("click")}var n=e.data("wfob-id");n=parseInt(n);var i=e.data("product-key"),_=e.attr("cart_key"),c=1,f="";if(t(this).hasClass("wfob_item_present"))f="remove_order_bump";else{f="add_order_bump",_="";var d=e.find(".wfob_quantity_increment");d.length>0&&(c=d.eq(0).val())}e.block(r),set_data({action:f,type:"post",product_key:i,wfob_id:n,cart_key:_,qty:c})}),window.numincreaseItmQty=function(o){arguments.length>1&&void 0!==arguments[1]&&arguments[1];var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=t(o).siblings(".wfob_quantity_increment"),n=parseInt(a.val(),10);n=isNaN(n)?0:n,n++,a.val(n),a.trigger("change",[e])},window.numdecreaseItmQty=function(o){arguments.length>1&&void 0!==arguments[1]&&arguments[1];var e=t(o).siblings(".wfob_quantity_increment"),a=parseInt(e.val(),10);(a=isNaN(a)?0:a)<1&&(a=1),a--,e.val(a),e.trigger("change")},t(document).on("change",".wfob_quantity_increment",function(){var o=t(this).val(),e=t(this).parents(".wfob_bump"),a=e.data("wfob-id");a=parseInt(a);var n=e.data("product-key"),i=e.attr("cart_key");if(""==i||void 0==i)return e.find(".wfob_btn_add").length>0?void e.find(".wfob_btn_add").trigger("click"):void e.find(".wfob_checkbox").trigger("click");e.block(r),set_data({action:"update_quantity",type:"post",product_key:n,qty:o,wfob_id:a,cart_key:i})}),t(document).on("change",".wfob_bump_product",function(){var o=t(this).parents(".wfob_bump"),e=o.data("wfob-id");e=parseInt(e);var a=o.data("product-key"),n=o.attr("cart_key"),i=1,_="remove_order_bump";if(t(this).is(":checked")){_="add_order_bump",n="";var c=o.find(".wfob_quantity_increment");c.length>0&&(i=c.eq(0).val())}o.block(r),set_data({action:_,type:"post",product_key:a,wfob_id:e,cart_key:n,qty:i})}),t(document).ready(function(){function o(){var o=t(".variations_form");o.on("hide_variation",function(o){t(".wfob_qv-summary .quantity").hide(),t(".wfob_option_btn").show(),t(this).find(".wfob_single_add_to_cart_button").text(wfob_frontend.quick_popup.choose_an_option),t("#wfob_qr_model_wrap .wfob_option_btn").click(function(){_()})}),o.on("show_variation",function(o,e){var a=e.variation_id;wfob_storage.variation_data[a]=e;var n="";n=""==t("#wfob_qr_model_wrap").data("cart-key")?wfob_frontend.quick_popup.add_to_cart_text:wfob_frontend.quick_popup.update,t(this).find(".wfob_single_add_to_cart_button").text(n),t(".wfob_qv-summary .quantity").show(),t(".wfob_option_btn").hide()})}function e(o,e){t(".wfob_qv-inner-modal").css("opacity","0").addClass(e)}function a(a,i){!function(e,a,i,r){e.action="quick_view_ajax",e.type="post",wfob_send_ajax(e,function(c){if(1==c.status){t(".wfob_qv-modal").html(c.html),a(i,r),t(".wfob_qv-pl-active").removeClass("wfob_qv-pl-active"),wc_single_product_params.flexslider_enabled=!0,wc_single_product_params.photoswipe_enabled=!0,wc_single_product_params.zoom_enabled=!0,t(".woocommerce-product-gallery").each(function(){t(this).wc_product_gallery()}),t(".wfob_qv-panel").find(".variations_form").wc_variation_form(),t(".wfob_qv-panel .variations_form select").change(),e.hasOwnProperty("variation_id")&&function(o,e){if(!window.wfob_storage.variation_data.hasOwnProperty(o))return!1;var a=window.wfob_storage.variation_data[o];if(0===Object.keys(a).length)return!1;var n=a.attributes;if(0===Object.keys(n).length)return!1;for(var i in n){var r=t('[data-attribute_name="'+i+'"]');if(r.length>0){var _=n[i];r.val(_)}}}(e.variation_id,e.item_key),o(),n<600&&setTimeout(function(){_()},200);var f=t('.wfob_bump[data-product-key="'+e.item_key+'"]');if(t(document.body).trigger("wfob_quick_view_open",{data:c}),0===f.length)return;var d=t(".wfob_qv-summary .price");if(d.length>0){var s=f.find(".wfob_price").html();d.html(s)}}else t(".wfob_qv-close").trigger("click")})}(a,e,null,"wfob_qv-animation-fadein")}function i(o){o.preventDefault(),t.each(o.target.classList,function(o,e){"wfob_qv-close"!==e&&"wfob_qv-inner-modal"!==e||(t(".wfob_qv-opac").hide(),t(".wfob_qv-panel").removeClass("wfob_qv-panel-active"),t(".wfob_qv-modal").html(""))})}function c(o){var e=t(".wfob_qv-summary .variation_id").val();e>0&&o.attr("variation_id",e);var a=function(o){if(!window.wfob_storage.variation_data.hasOwnProperty(o))return{};var e=window.wfob_storage.variation_data[o];if(0===Object.keys(e).length)return{};var a=e.attributes;if(0===Object.keys(a).length)return{};var n={};for(var i in a){var r=t('[data-attribute_name="'+i+'"]');r.length>0&&(n[i]=r.val(),window.wfob_storage.variation_data[o].attributes[i]=r.val())}return n}(e),n=o.attr("cart_key"),i=o.data("wfob-id"),_=o.data("product-key"),c=1,f=o.find(".wfob_quantity_increment");f.length>0&&(c=f.eq(0).val()),o.block(r),set_data({action:"add_order_bump",type:"post",remove_item_key:n,product_key:_,variation_id:e,attributes:a,wfob_id:i,qty:c})}function f(o){var e=t(o).parents(".wfob_bump");console.log(e),t(".wfob_qv-opac").show();var n=t(".wfob_qv-panel");n.addClass("wfob_qv-panel-active"),n.find(".wfob_qv-opl").addClass("wfob_qv-pl-active");var i=t(o).attr("qv-id"),r={};e.length>0&&(r.item_key=e.data("product-key"),r.cart_key=e.attr("cart_key")),r.wfob_id=e.data("wfob-id"),r.wfob_nonce=wfob_frontend.wfob_nonce,r.product_id=i;var _=t(this).attr("qv-var-id");void 0!=_&&(r.variation_id=_),a(r)}t(".wfob_qv-panel").on("click",".wfob_qv-close",i),t(document.body).on("click",".wfob_qv-inner-modal",i),t(document).keyup(function(o){27===o.keyCode&&t(".wfob_qv-close").trigger("click")}),t(document.body).on("click",".wfob_qv-button",function(t){t.preventDefault(),f(this)}),t(document).on("click",".wfob_single_add_to_cart_button",function(){var o=t(".wfob_qv-inner-modal"),e=o.data("item-key"),a=o.data("cart-key"),n=!1;if(t(".wfob_qv-summary .variations_form").length>0&&(n=!0),void 0!==a&&""!==a){var i=t('.wfob_bump[cart_key="'+a+'"]');i.length>0&&(!0===n&&c(i),t(".wfob_qv-close").trigger("click"))}else if(void 0!==e&&""!==e){var r=t('.wfob_bump[data-product-key="'+e+'"]');r.length>0&&(!0===n&&c(r),t(".wfob_qv-close").trigger("click"))}}),t(document).on("change",".wfob_choose_variation",function(){console.log("Hello");var o=t(this).parents(".wfob_bump").find(".wfob_qv-button");o.length>0&&f(o[0]),t(this).prop("checked",!1)})}),t(document.body).on("updated_checkout",function(o,n){var i=t("#product_switcher_need_refresh");i.length>0&&i.val(1),t("#wfob_input_hidden_data").val("{}"),t(".wfob_bump_wrapper .wfob_bump").unblock(),"object"==_typeof(n)&&function(o){if(!o.hasOwnProperty("fragments"))return o;var n=o.fragments;t(".woocommerce-checkout-payment, .woocommerce-checkout-review-order-table").unblock(),t(document.body).removeClass("wfob_bump_trigger"),e!==n.cart_is_virtual&&wfob_frontend.hooks.applyFilters("wfob_reload_page_cart_virtual_changed",!0,o)&&("undefined"!=typeof wfob_frontend&&""===wfob_frontend.is_global||(e=n.cart_is_virtual));var i=t("#shipping_same_as_billing_field");if(i.length>0&&(1==n.cart_is_virtual?i.hide():0==n.cart_is_virtual&&i.show()),!0!==n.cart_is_empty)return n.hasOwnProperty("cart_total")&&0==parseFloat(n.cart_total)?(a=!0,c(o),1):a?(a=!1,c(o),1):n.hasOwnProperty(".cart_total")&&0===parseFloat(n[".cart_total"])?(t(document.body).trigger("wfob_cart_goes_empty",{cart_total:parseFloat(n.cart_total)}),c(o),1):1;window.location.reload(0)}(n)}),o=!1,i.on("click",'input[name="payment_method"]',function(){"woo-mercado-pago-custom"===t(this).val()&&"object"==("undefined"==typeof MPv1?"undefined":_typeof(MPv1))&&1==o&&(MPv1.guessingPaymentMethod({event:"keyup"}),o=!1)}),t(document.body).on("wfob_cart_goes_empty",function(){a=!0}),t(document.body).on("wfacp_cart_goes_empty",function(){a=!0})}(jQuery);